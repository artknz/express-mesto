{"version":3,"sources":["components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/header-logo.svg"],"names":["Header","className","src","headerLogo","alt","api","baseUrl","headers","this","res","ok","json","Promise","reject","status","fetch","then","_statusResponse","name","link","method","body","JSON","stringify","id","like","about","avatar","authorization","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","likedButtonClassName","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","aria-label","map","key","Footer","ImagePopup","onClose","PopupWithForm","title","isOpen","onSubmit","buttonText","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","data","getInitialCards","item","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","editUserAvatar","editUserInfo","addNewCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.982f95c1.chunk.js","sourcesContent":["import React from 'react';\nimport headerLogo from '../images/header-logo.svg';\n\nexport default function Header() {\n  return (\n    <header className=\"header\">\n        <a className=\"page__container\">\n            <img src={headerLogo} alt=\"логотип Mesto\" className=\"header__logo\" />\n        </a>\n    </header>\n  )\n}\n","export default class Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  _statusResponse(res) {\n    if(res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    })\n    .then(this._statusResponse);\n  }\n\n  addNewCard({name, link}) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(this._statusResponse);\n  }\n\n  changeLikeCardStatus(id, like) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: this.headers,\n    })\n    .then(this._statusResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n    .then(this._statusResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    })\n    .then(this._statusResponse);\n  }\n\n  editUserInfo({name, about}) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(this._statusResponse);\n  }\n\n  editUserAvatar({avatar}) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(this._statusResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\n  headers: {\n    authorization: \"6492f791-b5eb-4368-9c1b-0fccf5018796\",\n    \"Content-Type\": \"application/json\"\n  }\n})\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext)\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (`element__delete ${isOwn && 'element__delete_true'}`);\n  const likedButtonClassName = (`element__like ${isLiked && 'element_liked'}`);\n\n  const handleCardClick = () => {\n    onCardClick(card);\n  }\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  }\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  }\n\n  return(\n    <div className=\"element\">\n      <img onClick={handleCardClick} src={card.link} alt={card.name} className=\"element__image\" />\n      <button type=\"button\" onClick={handleDeleteClick} className={cardDeleteButtonClassName} />\n      <div className=\"element__title\">\n        <h3 className=\"element__text\">{card.name}</h3>\n        <div className=\"element__likes\">\n          <button type=\"button\" onClick={handleLikeClick} className={likedButtonClassName} />\n          <div className=\"element__like-count\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport {api} from '../utils/api.js';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nexport default function Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button onClick={onEditAvatar} className=\"profile__avatar\">\n          <img src={currentUser.avatar} alt=\"#\" className=\"profile__avatar-img\" name=\"avatar\" />\n        </button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button onClick={onEditProfile} type=\"button\" aria-label=\"Редактировать\" className=\"profile__edit-button\" />\n          <p className=\"profile__status\">{currentUser.about}</p>\n        </div>\n        <button onClick={onAddPlace} type=\"button\" aria-label=\"Добавить\" className=\"profile__add-button\" />\n      </section>\n      <section className=\"elements\">{cards.map(card => <Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />)}</section>\n    </main>\n  )\n}\n","import React from 'react';\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__item\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n","import React from 'react';\n\nexport default function ImagePopup({ card, onClose }) {\n\n  return (\n    <section className={`popup popup_image ${card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button onClick={onClose} type=\"button\" aria-label=\"Закрыть\" className=\"popup__close popup__close_type_image\" />\n        <img src={card ? card.link : '#'} alt={card ? card.name : ''} className=\"popup__capture\" />\n        <h4 className=\"popup__titile popup__titile_type_image\">{card ? card.name : ''}</h4>\n      </div>\n    </section>\n  )\n}\n","import React from 'react';\n\nexport default function PopupWithForm({ name, title, isOpen, onClose, onSubmit, buttonText, children}) {\n  return(\n    <section className={`popup popup_${name} ${isOpen && 'popup_opened'}`}>\n      <form name={name} onSubmit={onSubmit} className={`popup__container popup__container_form popup_container_type_${name}`}>\n        <button onClick={onClose} type=\"button\" aria-label=\"Закрыть\" className=\"popup__close popup__close_type_profile\" />\n        <h3 className=\"popup__title\">{title}</h3>\n        {children}\n        <button type=\"submit\" className=\"popup__save popup__save_type_add\">{buttonText}</button>\n      </form>\n    </section>\n  )\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const[name, setName] = React.useState('');\n  const[description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser, onClose]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n    name='profile'\n    title='Редактировать профиль'\n    buttonText='Сохранить'\n    isOpen={isOpen}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n  >\n    <input id=\"name-input\" type=\"text\" value={name} onChange={handleNameChange} placeholder=\"Имя\" name=\"name\" minLength=\"2\" maxLength=\"40\" className=\"popup__field popup__field_type_name\" required />\n    <span id=\"name-input-error\" className=\"popup__field-error\" />\n\n    <input id=\"status-input\" type=\"text\" value={description} onChange={handleDescriptionChange} placeholder=\"Статус\" name=\"about\" minLength=\"2\" maxLength=\"200\" className=\"popup__field popup__field_type_status\" required />\n    <span id=\"status-input-error\" className=\"popup__field-error\" />\n  </PopupWithForm>\n  )\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n        name='avatar'\n        title='Обновить аватар'\n        buttonText='Сохранить'\n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n      >\n        <input ref={avatarRef} id=\"title-input\" type=\"text\" placeholder=\"Ссылка на изображение\" name=\"avatar\" minLength=\"1\" className=\"popup__field popup__field_type_avatar\" required />\n      </PopupWithForm>\n  )\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const [link, setLink] = React.useState('');\n  const [name, setName] = React.useState('');\n\n  function handleLinkChange(e) {\n    setLink(e.target.value)\n  }\n\n  function handleNameChange(e) {\n    setName(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name,\n      link\n    })\n  }\n\n  return (\n    <PopupWithForm\n        name='addcard'\n        title='Новое место'\n        buttonText='Создать'\n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n      >\n        <input id=\"title-input\" type=\"text\" value={name} onChange={handleNameChange} placeholder=\"Название\" name=\"name\" minLength=\"1\" maxLength=\"30\" className=\"popup__field popup__field_type_title\" required />\n        <span id=\"title-input-error\" className=\"popup__field-error\" />\n\n        <input id=\"link-input\" type=\"url\" value={link} onChange={handleLinkChange} placeholder=\"Ссылка на картинку\" name=\"link\" className=\"popup__field popup__field_type_link\" required />\n        <span id=\"link-input-error\" className=\"popup__field-error\" />\n      </PopupWithForm>\n  )\n}\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport {api} from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nexport default function App() {\n  const[isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const[isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const[isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const[selectedCard, setSelectedCard] = React.useState(null);\n  const[currentUser, setCurrentUser] = React.useState(CurrentUserContext);\n  const[cards, setCards] = React.useState([]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleUpdateUser(data) {\n    api.editUserInfo(data).then((data) => {\n      setCurrentUser(data)\n      closeAllPopups()\n    });\n  }\n\n  function handleUpdateAvatar(data) {\n    api.editUserAvatar(data).then((data) => {\n      setCurrentUser(data)\n      closeAllPopups()\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id)\n      setCards(newCards);\n    });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api.addNewCard(newCard).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups()\n    })\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then(data => {\n      setCurrentUser(data)\n    })\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards().then(\n      (item) => {\n        setCards(item);\n      }\n    )\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n      <Header />\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={setSelectedCard}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n      <Footer />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.a62236dd.svg\";"],"sourceRoot":""}